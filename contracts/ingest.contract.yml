contract_version: 1
ingest:
  runner: "python"
  entrypoint: "CORE/ingest_pipeline/url_list_ingest.py"
  parameters:
    - name: subject
      source: env.SUBJECT
    - name: topic_cluster
      source: env.TOPIC_CLUSTER
      default: general
    - name: urls
      source: env.URLS_FILE

targets:
  - name: term_ingest
    urls_file_glob: "administrations/*/seeds/sources.urls.txt"
    subject_template: "{term_label}"

  - name: case_thread_ingest
    urls_file_glob: "case_threads/*/seeds/sources.urls.txt"
    subject_template: "Case Thread: {case_id}"

schedule:
  default_cron: "0 7 * * 1"
